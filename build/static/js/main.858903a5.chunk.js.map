{"version":3,"sources":["components/person/Person.js","components/filter/Filter.js","components/personForm/PersonForm.js","utils/toTitleCase.js","services/persons.js","App.js","index.js"],"names":["Person","id","name","number","handleDelete","onClick","Filter","filter","handleChangeFilter","value","onChange","PersonForm","newName","handleChange","newNumber","handleAddNumber","handleSubmit","type","toTitleCase","phrase","toLowerCase","split","map","word","charAt","toUpperCase","slice","join","personsUrl","personsServices","getAll","axios","get","then","response","data","create","newObject","post","update","put","deletePerson","delete","App","useState","setNewName","setNewNumber","setFilter","persons","setPersons","useEffect","initialPersons","alreadyAdded","find","person","deleteName","findNameWithId","console","log","window","confirm","e","target","event","preventDefault","alert","oldEntry","updatenNumber","newPerson","returnedPerson","updatePersonWithNewNumber","newPersonObject","concat","includes","searchNames","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.858903a5.chunk.js","sourcesContent":["import React from 'react'\n\nconst Person = ({id, name, number, handleDelete})=>{\n  return (\n    <div>\n      {name} {number}\n      <button onClick={()=>handleDelete(id)}>delete</button>\n    </div>\n  )\n}\n\nexport default Person","import React from 'react'\n\nconst Filter = ({filter, handleChangeFilter}) =>{\n  return (\n          <div>\n        filter shown with <input\n                            value={filter}\n                            onChange={handleChangeFilter}\n                          />\n      </div>\n  )\n}\n\nexport default Filter","import React from 'react'\n\nconst PersonForm = ({\n                      newName, \n                      handleChange, \n                      newNumber, \n                      handleAddNumber, \n                      handleSubmit\n                    }) => {\n  return (\n    <form>\n        <div>\n          name: <input \n                  value={newName} \n                  onChange={handleChange}\n                />\n        </div>\n        <div>\n          number:<input\n                   value={newNumber}\n                   onChange={handleAddNumber}\n                 />\n        </div>\n        <div>\n          <button type=\"submit\" onClick={handleSubmit} >add</button>\n        </div>\n    </form>\n  )\n}\n\nexport default PersonForm","const toTitleCase = (phrase) => {\n  return phrase\n    .toLowerCase()\n    .split(' ')\n    .map(word => word.charAt(0).toUpperCase() + word.slice(1))\n    .join(' ')\n}\n\nexport default toTitleCase;","import axios from 'axios'\n\nconst personsUrl = '/api/persons'\n\nconst getAll = () => {\n    const request = axios.get(personsUrl)\n    return request.then(response=>response.data)\n}\n\nconst create = (newObject) => {\n    const request = axios.post(personsUrl, newObject)\n    return request.then(response=>response.data)\n}\n\nconst update = (id, newObject) => {\n    const request = axios.put(`${personsUrl}/${id}`, newObject)\n    return request.then(response=>response.data)\n}\n\nconst deletePerson = (id) => {\n    const  request = axios.delete(`${personsUrl}/${id}`)\n    return request.then(response=>response.data)\n}\nconst personsServices = {getAll, create, update, deletePerson}\nexport default personsServices","import React, {useState, useEffect} from 'react'\nimport Person from './components/person/Person'\nimport Filter from './components/filter/Filter'\nimport PersonForm from './components/personForm/PersonForm'\nimport toTitleCase from './utils/toTitleCase'\nimport personsServices from './services/persons'\n\nconst App= () => {\n    const [newName, setNewName ] = useState('')\n    const [newNumber, setNewNumber] = useState('')\n    const [filter, setFilter] = useState('')\n    const [persons, setPersons] = useState(null)\n\n    useEffect(()=>{\n        personsServices\n            .getAll()\n            .then(initialPersons => {\n                setPersons(initialPersons)\n            })}\n    ,[])\n\n  const updatePersonWithNewNumber = (person, updatenNumber) => {\n    const newPerson = {\n      ...person,\n        number: updatenNumber\n    }\n      personsServices\n          .update(person.id, newPerson)\n          .then( returnedPerson => {\n              setPersons(persons.map(person => person.name !== newName ? person : returnedPerson ))\n          })\n      setNewName('')\n      setNewNumber('')\n  }\n\n  const alreadyAdded = (name) =>{\n    return  persons.find(person=> person.name.toUpperCase() === name.toUpperCase())\n  }\n\n  const findNameWithId =(id) => {\n        return persons.find(person=> person.id === id).name\n  }\n  const alreadyAddedWarnning = (name) => window.alert(`${name.toUpperCase()} is already added to the phonebook`)\n\n  const handleChange = (e) => {\n    setNewName(e.target.value)\n  }\n\n  const handleChangeFilter = (e) => {\n    setFilter(e.target.value)\n  }\n\n  const handleAddNumber = (e) =>{\n    setNewNumber(e.target.value)\n      console.log(`adding new number, ${newNumber}`)\n  }\n\n  const searchNames = (filter) => {\n    return persons.filter(person => person.name.toUpperCase().includes(filter.toUpperCase()))\n  }\n\n  const handleSubmit = (event) => {\n    event.preventDefault()\n      if (newName === '' || newNumber === '') {\n          window.alert('both name and number can NOT be empty, please input')\n      } else if (alreadyAdded(newName)) {\n          console.log(`argument newName passed to function handleSubmit is ${newName}`)\n          console.log(`argument newNumber passed to function handleSubmit is ${newNumber}`)\n          const oldEntry = alreadyAdded(newName)\n            console.log(oldEntry.number)\n          if (newNumber === oldEntry.number) {\n            alreadyAddedWarnning(newName)\n        } else {\n              if (window.confirm(`${oldEntry.name} already added to the phonebook. Do you want to update \n              the phone number with ${newNumber}?`)){\n                  updatePersonWithNewNumber(oldEntry, newNumber)\n              }\n\n        }\n    } else {\n        const newPersonObject = {\n            name: toTitleCase(newName),\n            number: newNumber\n        }\n        console.log('new Person is ', newPersonObject)\n\n        personsServices\n            .create(newPersonObject)\n            .then(returnedPerson => {\n                setPersons(persons.concat(returnedPerson))\n                setNewName('')\n                setNewNumber('')\n            })\n    }\n  }\n\n\n  const handleDelete = (id) => {\n        const deleteName = findNameWithId(id)\n        console.log(deleteName)\n        if ( window.confirm(`you really want to remove the entry ${deleteName}?`) ) {\n            personsServices\n                .deletePerson(id)\n                .then(() =>{\n                    setPersons(persons.filter(person => person.id !== id));\n                })\n            setNewNumber('')\n            setNewName('')\n        }\n  }\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      \n      <Filter filter={filter} handleChangeFilter={handleChangeFilter} />\n      \n      <h3>Add a new</h3>\n      \n      <PersonForm \n        newName={newName}\n        handleChange={handleChange} \n        newNumber={newNumber}\n        handleAddNumber={handleAddNumber}\n        handleSubmit={handleSubmit}\n      /> \n\n      <h2>Numbers</h2>\n      <div>\n        { filter === '' && persons !== null && persons.map( person =>\n          <Person\n              key={person.id}\n              name={person.name}\n              number={person.number}\n              id={person.id}\n              handleDelete={handleDelete}\n          />\n        )}\n        { filter !== '' && persons !== null && searchNames(filter).map( person =>\n            < Person\n              name={person.name}\n              number={person.number}\n              id={person.id}\n              handleDelete={handleDelete}\n            />)\n        }\n      </div>\n    </div>\n  )\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n    <App />,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}